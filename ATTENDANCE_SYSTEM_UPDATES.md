# ุชุญุฏูุซุงุช ูุธุงู ุงูุญุถูุฑ ูุงูุงูุตุฑุงู

## โ ุงููุชุทูุจุงุช ุงููุทุจูุฉ

### 1. ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ูููุฏูุฑ ุนูุฏ ุชุณุฌูู ุญุถูุฑ/ุงูุตุฑุงู ุงูููุธููู

#### ุฃ. ุฏุงูุฉ `notifyManager`:
```typescript
const notifyManager = async (action: 'checkin' | 'checkout', session: string) => {
  if (currentUser?.role === 'admin') return; // ุงููุฏูุฑ ูุง ูุฑุณู ุฅุดุนุงุฑ ูููุณู
  
  try {
    const sessionText = session === 'morning' ? 'ุตุจุงุญูุฉ' : 'ูุณุงุฆูุฉ';
    const actionText = action === 'checkin' ? 'ุญุถูุฑ' : 'ุงูุตุฑุงู';
    
    await addNotification({
      userId: "admin", // ุฅุฑุณุงู ูุฌููุน ุงููุฏูุฑูู
      title: `ุชุณุฌูู ${actionText}`,
      message: `${currentUser?.name} ูุงู ุจุชุณุฌูู ${actionText} ูู ุงููุชุฑุฉ ${sessionText}`,
      type: "attendance",
      actionUrl: `/attendance`,
      triggeredBy: currentUser?.id || "",
      isRead: false,
    });
  } catch (error) {
    console.error('Error sending notification to manager:', error);
  }
};
```

#### ุจ. ุงุณุชุฏุนุงุก ุงูุฅุดุนุงุฑุงุช ูู `handleCheckIn` ู `handleCheckOut`:
```typescript
// ูู handleCheckIn
handleCreateAttendance(newRecord);
notifyManager('checkin', session);

// ูู handleCheckOut
handleUpdateAttendance(existingRecord.id, updatedRecord);
notifyManager('checkout', session);
```

### 2. ุฅุถุงูุฉ ุณุฌูุงุช ุงูุญุถูุฑ ูููุฏูุฑ

- **ูููุฏูุฑ**: ูุชู ุนุฑุถ ุฌููุน ุณุฌูุงุช ุงูุญุถูุฑ ูุฌููุน ุงูููุธููู
- **ููููุธููู ุงูุนุงุฏููู**: ูุชู ุนุฑุถ ุณุฌูุงุช ุงูุญุถูุฑ ุงูุดุฎุตูุฉ ููุท

```typescript
const filteredRecords = attendanceRecords
  .filter((record) => record.date === selectedDate)
  .filter((record) => 
    // ูููุฏูุฑ: ุนุฑุถ ุฌููุน ุงูุณุฌูุงุชุ ููููุธููู: ุนุฑุถ ุณุฌูุงุชูู ููุท
    currentUser?.role === 'admin' ? 
      record.userName.toLowerCase().includes(searchTerm.toLowerCase()) :
      record.userId === currentUser?.id
  )
```

### 3. ุชุนุฏูู ุงููุฑูุช ุงูุฅุญุตุงุฆูุฉ ุจูุงุกู ุนูู ุฏูุฑ ุงููุณุชุฎุฏู

#### ุฃ. ุฏุงูุฉ `getEmployeeMonthlyStats`:
```typescript
const getEmployeeMonthlyStats = () => {
  const now = new Date();
  const currentMonth = now.getMonth();
  const currentYear = now.getFullYear();
  const monthStart = new Date(currentYear, currentMonth, 1);
  const monthEnd = new Date(currentYear, currentMonth + 1, 0);
  const totalDays = monthEnd.getDate();
  
  // ุณุฌูุงุช ุงูุญุถูุฑ ููููุธู ุงูุญุงูู ูู ุงูุดูุฑ ุงูุญุงูู
  const employeeMonthlyRecords = attendanceRecords.filter(r => {
    const recordDate = new Date(r.date);
    return r.userId === currentUser?.id && 
           recordDate.getMonth() === currentMonth && 
           recordDate.getFullYear() === currentYear;
  });

  // ุฃูุงู ุงูุญุถูุฑ
  const presentDays = employeeMonthlyRecords.reduce((acc, r) => acc.add(r.date), new Set()).size;
  
  // ุฃูุงู ุงูุบูุงุจ
  const absentDays = totalDays - presentDays;
  
  // ุฅุฌูุงูู ุงูุณุงุนุงุช ุงูุดูุฑูุฉ
  const totalMonthlyHours = Math.ceil(employeeMonthlyRecords.reduce((sum, r) => sum + (r.totalHours || 0), 0));
  
  // ุณุงุนุงุช ุฅุถุงููุฉ
  const overtimeHours = Math.round(employeeMonthlyRecords.reduce((sum, r) => sum + Math.max(0, (r.totalHours || 0) - 9), 0));

  return {
    presentDays,
    absentDays,
    totalMonthlyHours,
    overtimeHours
  };
};
```

#### ุจ. ุฏุงูุฉ `renderStatsCards`:
```typescript
const renderStatsCards = () => {
  // ูููุฏูุฑ: ุนุฑุถ ุฅุญุตุงุฆูุงุช ุฌููุน ุงูููุธููู
  if (currentUser?.role === 'admin') {
    return (
      <div className="grid grid-cols-1 md:grid-cols-5 gap-6">
        {/* ูุฑูุช ุงููุฏูุฑ: ุงูุญุงุถุฑููุ ุงููุชุฃุฎุฑููุ ุงูุบุงุฆุจููุ ุฅุฌูุงูู ุงูุณุงุนุงุชุ ุณุงุนุงุช ุฅุถุงููุฉ */}
      </div>
    );
  }
  
  // ููููุธููู ุงูุนุงุฏููู: ุนุฑุถ ุฅุญุตุงุฆูุงุชูู ุงูุดุฎุตูุฉ ุงูุดูุฑูุฉ
  const employeeStats = getEmployeeMonthlyStats();
  return (
    <div className="grid grid-cols-1 md:grid-cols-4 gap-6">
      {/* ูุฑูุช ุงูููุธู: ุฃูุงู ุงูุญุถูุฑุ ุฃูุงู ุงูุบูุงุจุ ุฅุฌูุงูู ุงูุณุงุนุงุชุ ุณุงุนุงุช ุฅุถุงููุฉ */}
    </div>
  );
};
```

### 4. ุงููุฑูุช ุงูุฅุญุตุงุฆูุฉ ูููุฏูุฑ (5 ูุฑูุช):
1. **ุงูุญุงุถุฑูู**: ุนุฏุฏ ุงูููุธููู ุงูุญุงุถุฑูู ุงูููู
2. **ุงููุชุฃุฎุฑูู**: ุนุฏุฏ ุงูููุธููู ุงููุชุฃุฎุฑูู ุงูููู
3. **ุงูุบุงุฆุจูู**: ุนุฏุฏ ุงูููุธููู ุงูุบุงุฆุจูู ุงูููู
4. **ุฅุฌูุงูู ุงูุณุงุนุงุช**: ุฅุฌูุงูู ุณุงุนุงุช ุงูุนูู ุงูููู
5. **ุณุงุนุงุช ุฅุถุงููุฉ**: ุฅุฌูุงูู ุงูุณุงุนุงุช ุงูุฅุถุงููุฉ ุงูููู

### 5. ุงููุฑูุช ุงูุฅุญุตุงุฆูุฉ ููููุธููู ุงูุนุงุฏููู (4 ูุฑูุช):
1. **ุฃูุงู ุงูุญุถูุฑ**: ุนุฏุฏ ุฃูุงู ุงูุญุถูุฑ ูู ุงูุดูุฑ ุงูุญุงูู
2. **ุฃูุงู ุงูุบูุงุจ**: ุนุฏุฏ ุฃูุงู ุงูุบูุงุจ ูู ุงูุดูุฑ ุงูุญุงูู
3. **ุฅุฌูุงูู ุงูุณุงุนุงุช**: ุฅุฌูุงูู ุณุงุนุงุช ุงูุนูู ุงูุดูุฑูุฉ
4. **ุณุงุนุงุช ุฅุถุงููุฉ**: ุฅุฌูุงูู ุงูุณุงุนุงุช ุงูุฅุถุงููุฉ ุงูุดูุฑูุฉ

### 6. ุญุณุงุจ ุงูุฅุญุตุงุฆูุงุช ุงูุดูุฑูุฉ ููููุธููู

#### ุฃ. ุญุณุงุจ ุฃูุงู ุงูุญุถูุฑ:
- ูุชู ุญุณุงุจ ุนุฏุฏ ุงูุฃูุงู ุงููุฎุชููุฉ ุงูุชู ุณุฌู ูููุง ุงูููุธู ุญุถูุฑ ูู ุงูุดูุฑ ุงูุญุงูู

#### ุจ. ุญุณุงุจ ุฃูุงู ุงูุบูุงุจ:
- ุฅุฌูุงูู ุฃูุงู ุงูุดูุฑ - ุฃูุงู ุงูุญุถูุฑ

#### ุฌ. ุญุณุงุจ ุฅุฌูุงูู ุงูุณุงุนุงุช:
- ูุฌููุน ุฌููุน ุณุงุนุงุช ุงูุนูู ุงููุณุฌูุฉ ูู ุงูุดูุฑ ุงูุญุงูู

#### ุฏ. ุญุณุงุจ ุงูุณุงุนุงุช ุงูุฅุถุงููุฉ:
- ุงูุณุงุนุงุช ุงูุชู ุชุฒูุฏ ุนู 9 ุณุงุนุงุช ูู ุงูููู ุงููุงุญุฏ

### 7. ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู

#### ุฃ. ุนููุงู ุงูุตูุญุฉ:
- **ูููุฏูุฑ**: "ุณุฌู ุงูุญุถูุฑ" - "ุชูุงุตูู ุญุถูุฑ ุงูููุธููู"
- **ููููุธููู**: "ุณุฌู ุงูุญุถูุฑ ุงูุดุฎุตู" - "ุชูุงุตูู ุญุถูุฑู ุงูุดุฎุตู"

#### ุจ. ุนุฑุถ ุงูุณุฌูุงุช:
- **ูููุฏูุฑ**: ุฌููุน ุณุฌูุงุช ุงูุญุถูุฑ ูุน ุฅููุงููุฉ ุงูุจุญุซ
- **ููููุธููู**: ุณุฌูุงุช ุงูุญุถูุฑ ุงูุดุฎุตูุฉ ููุท

## ๐ง ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

- **React Hooks**: `useState`, `useEffect`
- **TypeScript**: ููุชุญูู ูู ุงูุฃููุงุน
- **Context API**: ูุฅุฏุงุฑุฉ ุงูุญุงูุฉ ุงูุนุงูุฉ
- **Notifications System**: ูุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช
- **Date Manipulation**: ูุญุณุงุจ ุงูุฅุญุตุงุฆูุงุช ุงูุดูุฑูุฉ
- **Conditional Rendering**: ูุนุฑุถ ูุญุชูู ูุฎุชูู ุญุณุจ ุฏูุฑ ุงููุณุชุฎุฏู

## ๐ ููุฎุต ุงูุชุญุฏูุซุงุช

### โ ุชู ุชุทุจูู ุฌููุน ุงููุชุทูุจุงุช:

1. **ุฅุดุนุงุฑุงุช ุงููุฏูุฑ**: ูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ูููุฏูุฑ ุนูุฏ ุชุณุฌูู ุญุถูุฑ/ุงูุตุฑุงู ุฃู ููุธู
2. **ุณุฌูุงุช ุงูุญุถูุฑ**: ุงููุฏูุฑ ูุฑู ุฌููุน ุงูุณุฌูุงุชุ ุงูููุธููู ูุฑูู ุณุฌูุงุชูู ููุท
3. **ุงููุฑูุช ุงูุฅุญุตุงุฆูุฉ**: 
   - ุงููุฏูุฑ: 5 ูุฑูุช (ุงูุญุงุถุฑููุ ุงููุชุฃุฎุฑููุ ุงูุบุงุฆุจููุ ุฅุฌูุงูู ุงูุณุงุนุงุชุ ุณุงุนุงุช ุฅุถุงููุฉ)
   - ุงูููุธููู: 4 ูุฑูุช (ุฃูุงู ุงูุญุถูุฑุ ุฃูุงู ุงูุบูุงุจุ ุฅุฌูุงูู ุงูุณุงุนุงุชุ ุณุงุนุงุช ุฅุถุงููุฉ)
4. **ุงูุฅุญุตุงุฆูุงุช ุงูุดูุฑูุฉ**: ุญุณุงุจ ุฏููู ูุฃูุงู ุงูุญุถูุฑ ูุงูุบูุงุจ ูุงูุณุงุนุงุช ููููุธููู
5. **ูุงุฌูุฉ ูุณุชุฎุฏู ูุญุณูุฉ**: ุนุฑุถ ูุญุชูู ูุฎุชูู ุญุณุจ ุฏูุฑ ุงููุณุชุฎุฏู

### ๐ฏ ุงููุชุงุฆุฌ:

- **ูููุฏูุฑ**: ุฑุคูุฉ ุดุงููุฉ ูุฌููุน ุงูููุธููู ูุน ุฅุดุนุงุฑุงุช ููุฑูุฉ
- **ููููุธููู**: ุฑุคูุฉ ุดุฎุตูุฉ ูุฅุญุตุงุฆูุงุชูู ุงูุดูุฑูุฉ
- **ูุธุงู ุฅุดุนุงุฑุงุช**: ุชูุจููุงุช ููุฑูุฉ ูููุฏูุฑ ุนูุฏ ุชุณุฌูู ุงูุญุถูุฑ/ุงูุงูุตุฑุงู
- **ุฅุญุตุงุฆูุงุช ุฏูููุฉ**: ุญุณุงุจ ุตุญูุญ ููุฃูุงู ูุงูุณุงุนุงุช ุงูุดูุฑูุฉ

ุฌููุน ุงููุชุทูุจุงุช ุชู ุชุทุจูููุง ุจูุฌุงุญ! ๐ 